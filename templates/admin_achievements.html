<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Achievements</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header style="text-align: center; margin-top: 40px;">
    <h1 style="font-family: 'Times New Roman', serif;">Manage Achievements</h1>
</header>

<section style="max-width: 900px; margin: 40px auto; font-family: 'Times New Roman', serif;">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, msg in messages %}
                <div class="alert alert-{{ category }}">{{ msg }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div style="text-align: right; margin-bottom: 20px;">
        <a href="{{ url_for('new_achievement') }}" style="padding: 8px 14px; background-color: black; color: white; text-decoration: none; font-size: 14px;">➕ Add New Achievement</a>
    </div>

    {% if achievements %}
        {% for ach in achievements %}
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 25px; border-bottom: 1px solid #ccc; padding-bottom: 15px;">
                <div style="width: 60%;">
                    <h3 style="margin-bottom: 10px;">{{ ach['title'] }}</h3>
                    <p>{{ ach['summary'] }} <a href="{{ ach['link'] }}" target="_blank" class="text-primary">Read More</a></p>

                    <!-- ✏️ EDIT LINK -->
                    <a href="{{ url_for('edit_achievement', id=ach['id']) }}" style="font-size: 14px; text-decoration: none; margin-top: 10px; display: inline-block;">✏️ Edit</a>
                </div>
                <div style="width: 35%; text-align: right;">
                    {% if ach['image_filename'] %}
                        <img src="{{ url_for('static', filename='uploads/' ~ ach['image_filename']) }}" alt="{{ ach['title'] }}" style="max-width: 100%; height: 160px; border-radius: 8px;">
                    {% endif %}
                </div>
            </div>

            <form action="{{ url_for('delete_achievement', id=ach['id']) }}" method="POST" style="text-align: right; margin-bottom: 30px;">
                <button type="submit" style="background-color: crimson; color: white; border: none; padding: 6px 12px; font-size: 13px; cursor: pointer;">🗑️ Delete</button>
            </form>
        {% endfor %}
    {% else %}
        <p>No achievements added yet.</p>
    {% endif %}

    <div style="text-align: center; margin-top: 40px;">
        <a href="{{ url_for('admin_dashboard') }}" style="text-decoration: none;">← Back to Dashboard</a>
    </div>
</section>

</body>
</html>
